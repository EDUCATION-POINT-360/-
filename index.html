<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Education Point login Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" href="logo.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: #ffffff;
      color: #111;
      min-height: 100vh;
      overflow-x: hidden;
      transition: background 0.3s, color 0.3s;
    }

    body.dark {
      background: #121212;
      color: #eee;
    }

    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: url('https://www.transparenttextures.com/patterns/black-linen.png') repeat;
    }

    .form-box {
      background: rgba(0, 0, 0, 0.7);
      padding: 2rem 3rem;
      border-radius: 16px;
      box-shadow: 0 0 25px rgba(0,0,0,0.4);
      width: 100%;
      max-width: 450px;
      color: white;
      animation: fadeIn 0.8s ease;
    }

    .form-box h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #fff;
    }

    .form-box input, .form-box select {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.9);
      color: #111;
    }

    .form-box input[type="file"] {
      background: transparent;
      color: #fff;
    }

    .form-box button {
      width: 100%;
      padding: 12px;
      background: #fff;
      border: none;
      border-radius: 8px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .form-box button:hover {
      background: #ccc;
    }

    .form-box .switch-link {
      text-align: center;
      margin-top: 10px;
    }

    .form-box .switch-link a {
      color: cyan;
      text-decoration: none;
    }

    .dashboard-container {
      display: none;
      height: 100vh;
      animation: fadeIn 0.5s ease;
    }

    aside {
      background: rgba(0,0,0,0.85);
      color: #fff;
      padding: 20px;
      width: 250px;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    aside.collapsed {
      width: 60px;
    }

    aside.collapsed h2, aside.collapsed span.text {
      display: none;
    }

    aside .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    aside h2 {
      font-size: 1.2rem;
      color: cyan;
    }

    aside ul {
      list-style: none;
      margin-top: 30px;
    }

    aside ul li {
      margin: 15px 0;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    aside ul li:hover, aside ul li.active {
      background: rgba(255, 255, 255, 0.1);
    }

    main {
      flex: 1;
      background: #fff;
      color: #111;
      padding: 30px;
      overflow-y: auto;
      transition: background 0.3s, color 0.3s;
    }

    body.dark main {
      background: #1e1e1e;
      color: #eee;
    }

    .dashboard-container {
      display: flex;
    }

    .dashboard h1 {
      color: #333;
      margin-bottom: 20px;
    }

    body.dark .dashboard h1 {
      color: #fff;
    }

    .cards {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .card {
      background: rgba(0,0,0,0.05);
      border-left: 4px solid cyan;
      border-radius: 8px;
      padding: 20px;
      flex: 1 1 250px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    .profile-card {
      display: flex;
      align-items: center;
      background: rgba(0,0,0,0.05);
      padding: 20px;
      border-radius: 12px;
      gap: 20px;
    }

    .profile-card img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 2px solid cyan;
      object-fit: cover;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .dashboard-container {
        flex-direction: column;
      }
      aside {
        width: 100%;
      }
    }
  </style>
</head>
<body>

<div class="container" id="login-section">
  <div class="form-box">
    <h2>Login to Education Point</h2>
    <form id="login-form" onsubmit="login(event)">
      <input type="email" id="login-email" placeholder="Email" required />
      <input type="password" id="login-password" placeholder="Password" required />
      <button type="submit">Login</button>
      <p class="switch-link">Don't have an account? <a href="#" onclick="showRegister()">Register</a></p>
    </form>

    <form id="register-form" style="display:none" onsubmit="register(event)">
      <input type="text" id="reg-name" placeholder="Full Name" required />
      <input type="email" id="reg-email" placeholder="Email" required />
      <input type="password" id="reg-password" placeholder="Password" required />
      <input type="date" id="reg-dob" required />
      <select id="reg-gender" required>
        <option value="">Select Gender</option>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
      </select>
      <input type="file" id="reg-pic" accept="image/*" />
      <button type="submit">Register</button>
      <p class="switch-link">Already have an account? <a href="#" onclick="showLogin()">Login</a></p>
    </form>
  </div>
</div>

<div class="dashboard-container" id="dashboard-section">
  <aside id="sidebar">
    <div class="sidebar-header">
      <h2><i class="fas fa-graduation-cap"></i> <span class="text">Edu Point</span></h2>
      <i class="fas fa-bars toggle-btn" onclick="toggleSidebar()"></i>
    </div>
    <ul>
      <li onclick="goHome()"><i class="fas fa-home"></i> <span class="text">Home</span></li>
      <li id="nav-profile" onclick="showSection('profile')" class="active"><i class="fas fa-user"></i> <span class="text">Profile</span></li>
      <li id="nav-admin" onclick="checkAdminAccess()"><i class="fas fa-chart-bar"></i> <span class="text">Admin Panel</span></li>
      <li id="nav-settings" onclick="showSection('settings')"><i class="fas fa-cog"></i> <span class="text">Settings</span></li>
      <li onclick="logout()"><i class="fas fa-sign-out-alt"></i> <span class="text">Logout</span></li>
    </ul>
  </aside>

  <main>
    <section id="profile" class="dashboard">
      <h1>Student Profile</h1>
      <div class="profile-card">
        <img src="student.png" alt="Student" id="profile-pic"/>
        <div class="info">
          <h3 id="profile-name">Student</h3>
          <p><strong>Email:</strong> <span id="profile-email"></span></p>
          <p><strong>Gender:</strong> <span id="profile-gender"></span></p>
          <p><strong>DOB:</strong> <span id="profile-dob"></span></p>
          <p><strong>Role:</strong> <span id="profile-role"></span></p>
        </div>
      </div>
    </section>

    <section id="admin" class="dashboard" style="display:none;">
      <h1>Admin Dashboard</h1>
      <div class="cards">
        <div class="card"><h3>Total Students</h3><p id="stat-students">1200</p></div>
        <div class="card"><h3>Active Users</h3><p id="stat-active">89</p></div>
        <div class="card"><h3>Notices</h3><p id="stat-notices">4</p></div>
      </div>
    </section>

    <section id="settings" class="dashboard" style="display:none;">
      <h1>Settings</h1>
      <label>
        <input type="checkbox" id="theme-toggle" onchange="toggleTheme()"> Dark Mode
      </label>
    </section>
  </main>
</div>
<script>
  let userData = {};

  function register(e) {
    e.preventDefault();
    const name = document.getElementById("reg-name").value;
    const email = document.getElementById("reg-email").value;
    const password = document.getElementById("reg-password").value;
    const dob = document.getElementById("reg-dob").value;
    const gender = document.getElementById("reg-gender").value;
    const picFile = document.getElementById("reg-pic").files[0];

    const reader = new FileReader();
    reader.onloadend = () => {
      const picData = reader.result;

      const user = {
        name,
        email,
        password,
        dob,
        gender,
        pic: picData,
        role: email.includes("admin") ? "Admin" : "Student"
      };

      localStorage.setItem("eduUser", JSON.stringify(user));
      alert("Registration successful! Please log in.");
      showLogin();
    };

    if (picFile) {
      reader.readAsDataURL(picFile);
    } else {
      reader.onloadend();
    }
  }

  function login(e) {
    e.preventDefault();
    const email = document.getElementById("login-email").value;
    const password = document.getElementById("login-password").value;
    const storedUser = JSON.parse(localStorage.getItem("eduUser"));

    if (storedUser && storedUser.email === email && storedUser.password === password) {
      userData = storedUser;
      localStorage.setItem("isLoggedIn", "true");
      loadDashboard();
    } else {
      alert("Invalid email or password!");
    }
  }

  function loadDashboard() {
    document.getElementById("login-section").style.display = "none";
    document.getElementById("dashboard-section").style.display = "flex";

    document.getElementById("profile-name").innerText = userData.name;
    document.getElementById("profile-email").innerText = userData.email;
    document.getElementById("profile-gender").innerText = userData.gender;
    document.getElementById("profile-dob").innerText = userData.dob;
    document.getElementById("profile-role").innerText = userData.role;
    if (userData.pic) {
      document.getElementById("profile-pic").src = userData.pic;
    }

    document.getElementById("nav-admin").style.display = userData.role === "Admin" ? "block" : "none";
  }

  function logout() {
    localStorage.removeItem("isLoggedIn");
    location.reload();
  }

  function showRegister() {
    document.getElementById("login-form").style.display = "none";
    document.getElementById("register-form").style.display = "block";
  }

  function showLogin() {
    document.getElementById("register-form").style.display = "none";
    document.getElementById("login-form").style.display = "block";
  }

  function showSection(id) {
    document.querySelectorAll(".dashboard").forEach(sec => sec.style.display = "none");
    document.getElementById(id).style.display = "block";

    document.querySelectorAll("aside ul li").forEach(li => li.classList.remove("active"));
    document.getElementById(`nav-${id}`)?.classList.add("active");
  }

  function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("collapsed");
  }

  function goHome() {
    if (localStorage.getItem("isLoggedIn") === "true") {
      window.location.href = "home.html";
    } else {
      alert("You must be logged in to access the homepage.");
    }
  }

  function toggleTheme() {
    const isDark = document.getElementById("theme-toggle").checked;
    document.body.classList.toggle("dark", isDark);
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }

  function checkAdminAccess() {
    const password = prompt("Enter admin panel password:");
    if (password === "admin123") {
      showSection("admin");
    } else {
      alert("Access denied!");
    }
  }

  // On page load
  window.onload = function () {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme === "dark") {
      document.body.classList.add("dark");
      document.getElementById("theme-toggle").checked = true;
    }

    if (localStorage.getItem("isLoggedIn") === "true") {
      const storedUser = JSON.parse(localStorage.getItem("eduUser"));
      if (storedUser) {
        userData = storedUser;
        loadDashboard();
      }
    }
  };
</script>

</body>
</html>
